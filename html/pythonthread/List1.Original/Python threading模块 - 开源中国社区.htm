<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang='zh-CN' xml:lang='zh-CN' xmlns='http://www.w3.org/1999/xhtml'>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico" />
  <title>Python threading模块 - 开源中国社区</title>
  <meta name="Keywords" content=""/>  <meta name="Description" content="python是支持多线程的，并且是native的线程。主要是通过thread和threading这两个模块来实现的。thread是比较底层的模 块，threading是对thread做了一些包装的，可以更加方便的被使用。这里需要提一下的是python对线程的支持还不够完善，不能利用多 CPU，但是下个版本的python中已经考虑改进这点，让我们拭目以待吧。&lt;br /&gt; &nbsp;&nbsp;&nbsp; threading模块里面主要是对一些线程的操作对象化了，创建了叫Thread的class。一般来说，使用线程有两种模式，一种是创建线程要执行的 函数，把这个函数传递进Thread对象里，让它来执行；另一种是直接从Thread继承，创建一个新的class，把线程执行的代码放到这个新的 class里。我们来看看这两种做法吧。"/>  <link rel="stylesheet" href="/css/style2013.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="/css/channel.css?date=2014042202" type="text/css" media="screen" />
  <link rel="stylesheet" type="text/css" href="/js/2011/fancybox/jquery.fancybox-1.3.4.css" media="screen" />
  <link rel="alternate" type="application/rss+xml" title="最新开源项目" href="http://www.oschina.net/project/rss" />
  <link rel="alternate" type="application/rss+xml" title="最新开源资讯" href="http://www.oschina.net/news/rss" />
  <link rel="alternate" type="application/rss+xml" title="最新问题列表" href="http://www.oschina.net/question/rss" />
  <link rel="alternate" type="application/rss+xml" title="最新翻译列表" href="http://www.oschina.net/translate/rss" />
  <link rel="alternate" type="application/rss+xml" title="最新博客列表" href="http://www.oschina.net/blog/rss" />
  <link rel="alternate" type="application/rss+xml" title="最新代码分享列表" href="http://www.oschina.net/code/rss" />
  <link rel="alternate" type="application/rss+xml" title="开源中国 - 源码列表" href="http://www.oschina.net/code/source_rss" />
  <script type="text/javascript" src="/js/2012/jquery-1.7.1.min.js"></script>
  <script type="text/javascript" src="/js/2012/jquery.form.js"></script>
  <script type="text/javascript" src="/js/2011/fancybox/jquery.fancybox-fixed.js?2014031702"></script>
    <link rel="stylesheet" href="/js/poshytip/tip-yellowsimple/tip-yellowsimple.css" type="text/css" />
  <script type="text/javascript" src="/js/poshytip/jquery.poshytip.min.js"></script>
  <script type="text/javascript">
  	g_user = {
	id:0,
	name:'',
	login:false};  </script>
    <script type="text/javascript" src="/js/2011/oschina.js?ver=20121007"></script>
  <script type="text/javascript" src="/js/utils.js"></script>
  <script type="text/javascript" src="/js/channel.js?2014022501"></script>
    </head>
<body>
<div id='OSC_NavTop'>
	<div class="wp998">
        <div id="OSC_Channels">
        	<ul>
        	<li class="item"><a href="http://www.oschina.net/" class='home'>首页</a></li>        	<li class="item control_select"><a href="http://www.oschina.net/project" class='project'>开源项目</a>
				<ul class="cs_content">					
                	                	<li><a href="http://www.oschina.net/project/lang/19/java">Java 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/194/csharp">C# 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/22/php">PHP 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/21/c">C/C++ 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/26/ruby">Ruby 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/25/python">Python 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/358/go">Go开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/28/javascript">JS开源软件</a></li>
				</ul>
			</li>
        	<li class="item control_select">
				<a href="http://www.oschina.net/question" class='question'>讨论区</a>				
				<ul class="cs_content">					
                	<li><a href="http://www.oschina.net/question?catalog=1"> 技术问答 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=2"> 技术分享 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=3"> IT大杂烩 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=100"> 职业生涯 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=4"> 站务/建议 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/alipay"> 支付宝专区 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/hardware"> 开源硬件专区 &raquo; </a></li>
				</ul>
			</li>
        	<li class="item"><a href="http://www.oschina.net/code/list" class='code hl'>代码</a></li>
        	        	<li class="item"><a href="http://www.oschina.net/blog" class='blog'>博客</a></li>
        	<li class="item"><a href="http://www.oschina.net/translate" class='tran'>翻译</a></li>
            <li class="item"><a href="http://www.oschina.net/news" class='news'>资讯</a></li>
        	<li class="item control_select">
				<a href="http://www.oschina.net/android" class='mobile'>移动开发</a>
				<ul class="cs_content cs_mobile">
                	<li class="android_"><a href="http://www.oschina.net/android">Android开发专区</a></li>
                	<li class="ios_"><a href="http://www.oschina.net/ios/home">iOS开发专区</a></li>
                	<li class="ios_"><a href="http://www.oschina.net/ios/codingList">iOS代码库</a></li>
                	<li class="wp7_"><a href="http://www.oschina.net/wp">Windows Phone</a></li>
				</ul>
			</li>
        	<li class="item t_job"><a href="http://www.oschina.net/job" class='job'>招聘</a></li>
									            <li class="item control_select">
                <a href="http://city.oschina.net/" id="MyCities" title="城市圈">城市圈</a>
							</li>
        	</ul>
        </div>
		<div id="OSC_Userbar">
                		    		当前访客身份：游客 [ <a href="http://www.oschina.net/home/login?goto_page=http%3A%2F%2Fwww.oschina.net%2Fcode%2Fsnippet_16840_1815">登录</a> | <a href="http://www.oschina.net/home/reg">加入开源中国</a> ]
    				</div>
		<div class='clear'></div>
	</div>
</div>
<div id='OSC_Banner'><div class="wp998"><a href='http://www.oschina.net/' class='Logo' title='OSChina 开源中国'>开源中国</a>
<h1><a href='/code/list'>代码分享</a></h1>
<dl>
	<dt>当前位置：</dt>
	<dd>
		<a href="/code/list">代码分享</a>&nbsp;&raquo;&nbsp;<a href='/code/list/?lang=python'>Python</a> &nbsp;&raquo;&nbsp;<a href='/code/list/?catalog=commonly-used-tool'>常用工具方法</a>  
	</dd>
</dl>
<form action='http://www.oschina.net/search' class='search'>
	<input type='hidden' name='scope' value='code'/>
	<input id='channel_q' type='text' name='q' value='' placeholder='资讯、软件、分享、代码、博客' class='TXT'/>
    <button type='submit' class='BTN'>搜 索</button>
</form>
<div class='clear'></div></div></div>
<div id="OSC_Screen">
	<div id="OSC_Content" class='CenterDiv'>
<script type="text/javascript" src="/js/scrolltopcontrol.js"></script>
<script type="text/javascript">
  	scrolltotop.offset(100,120);
  	scrolltotop.init();
</script>

<div class='Question Code'>
	<div class='Body'>
    	<div class='Title'>
    		<div class='Asker'><a href="http://my.oschina.net/shizhoubo" class="ShowUserOutline" target="_blank"><img src="http://static.oschina.net/uploads/user/8/16840_50.jpg?t=1368102132000" align="absmiddle" alt="Sephiroth" title="Sephiroth" class="SmallPortrait" user="16840"/></a></div>
    		<div class='QTitle'>
    			<h1><a href="http://www.oschina.net/code/snippet_16840_1815">Python threading模块</a></h1>
            	<div class='stat'>
            		<a href="http://my.oschina.net/shizhoubo">Sephiroth</a> 发布于 2010年11月22日 8时,
            		<a href="#comments">1评/9337阅</a>        							
    				            		            	</div>
            </div>
    		<div class='clear'></div>
    	</div>
		<style type="text/css">
#TagsSwitcher{color:#A00;}
#RecTags,#MyTags{margin:5px 0;}
#RecTags a.tag{line-height:24px;}
#favor_form{width:200px;}
#favor_form p:first-child{margin:5px 0;}
#favor_form p {color:#666;}
#favor_form form{min-height:85px;width:200px;}
#favor_form form ._favor_input{display:block;margin:2px 0;width:199px;}
#favor_form form ._favor_button{float:left;padding:2px 5px;}
.favor_ok {text-align:center;font-size:10.5pt;width:199px;height:60px;margin-top:10px;}
#TagsSwitcher{cursor:pointer;float:right;margin-top:10px;}
#MyTags{display:none;width:199px;}
#MyTags a.tag {float:left; background-color: #E0EAF1;border-bottom: 1px solid #3E6D8E;border-right: 1px solid #7F9FB6;color: #3E6D8E;font-size: 8pt;line-height: 16px;margin: 2px 2px 2px 0;padding: 2px 4px;text-decoration: none;white-space: nowrap;}
#MyTags a.tag:hover{background-color: #3E6D8E;color: #FFF;}
#toolbar_wrapper{padding:10px 0 5px 0;}
.toolbar{height:33px;margin:0;padding:0;vertical-align: middle;border:1px solid #CCC;-moz-box-shadow: 0 1px 3px rgba(198,198,198,0.5);-webkit-box-shadow: 0 1px 3px rgba(198,198,198,0.5);box-shadow: 0 1px 3px rgba(198,198,198,0.5);}
.toolbar a{text-decoration:none;color:black;}
.share{float:left;margin:0;padding:3px 0 0 0;line-height:25px;width:280px;}
.share_sina{float:left;background:url(/img/toolbar.gif) -1px -278px no-repeat;padding-left:25px;padding-right:5px;margin-left:3px;}
.share_qq{float:left;background:url(/img/toolbar.gif) -1px -316px no-repeat;padding-left:25px;padding-right:5px;}
.options{float:right;margin:3px 5px 0 5px;padding:0;height:30px;line-height:25px;}
.tool_title {float:left;text-align:center;vertical-align:middle;margin:0 0 0 5px;line-height:33px;}
.options .tool_title{line-height:30px;}
.favorite{float:left;}
.soft_collect{background: url(/img/toolbar.gif) 0 -1px no-repeat; cursor: pointer;padding-left:20px;}
.soft_collected{background: url(/img/toolbar.gif) 1px -28px no-repeat;}
.soft_collect_count{font-size:12pt;font-family: Arial;color:#8B0000;margin:0 10px 0 10px;}
.soft_collect_count:hover {color:red;}
.soft_used{float:right;margin:0 0 0 20px;padding:0;position: relative;}
.soft_used_button{z-index: 1; position: relative; cursor: pointer;margin-left:10px;}
.arrow_holder{background: url(/img/toolbar.gif) -1px -350px no-repeat;}
a.soft_used_button_n{}
a.soft_used_button_y{color:#40AA53;font-weight:bold;}
.soft_used_level{ z-index: 99; position: absolute; top: 28px;left: 0; width: 80px; background-color: #f9f9f9; border: 1px solid #ccc;}
.soft_used_level li{ line-height: 34px; padding-left: 30px;background: url(/img/toolbar.gif) 3px -390px no-repeat; cursor: pointer;}
.soft_used_level li.choice{ background-color: #e9e9e9; background-position: 3px -418px}
.soft_used_level li.level{ background-position: 3px -418px}
.options .report{float:left;background: url(/img/toolbar.gif) 0 -113px no-repeat;padding:0 10px 0 15px;border-top:1px solid #CCC;border-bottom:1px solid #CCC;border-right:1px solid #CCC;}
.options .vote{float:right;width:120px;margin:0 0 0 20px;padding:0 5px;border:1px solid #CCC;text-align:center;vertical-align:middle;}
.options .vote-up-on{float:left;background: url(/img/toolbar.gif) 0 -160px no-repeat;padding-left:15px;}
.options .vote-up-off{float:left;background: url(/img/toolbar.gif) 0 -137px no-repeat;padding-left:15px;}
.options .vote-down-on{float:right;background: url(/img/toolbar.gif) 0 -209px no-repeat;padding-left:15px;}
.options .vote-down-off{float:right;background: url(/img/toolbar.gif) 0 -184px no-repeat;padding-left:15px;}
.options .vote-count-post{font-size:12pt;font-family: Arial;color: #8B0000;text-align: center;vertical-align:middle;margin:0 5px;}
.options .news_deliver{float:left;background: url(/img/toolbar.gif) 3px -243px no-repeat;padding:0 10px 0 24px;border-top:1px solid #CCC;border-bottom:1px solid #CCC;border-right:1px solid #CCC;}
#p_used_count{cursor:pointer;}
</style>
<script type='text/javascript'>

$(document).ready(function(){
	$.ajax({
		url:"/action/favorite/attentionUsersCount",
		type:"get",
		data:"id="+1815+"&type="+5,
		success:function(msg){
			$("#p_favor_count").html("+"+msg);
		}
	});
	
	$('#favor_trigger').click(function(){
			add_to_favor(1815,5);
		});
});

var favor_ok = "<p class='favor_ok'>已成功添加到收藏夹<br/><br/> <a href='null/favorites?type=5'>我的收藏夹</a> | <a href='javascript:close_favor()'>关闭</a></p>";
function delete_favor(obi_id, obj_type){
	if(!confirm('确定取消收藏？')) return;
	$.post("/action/favorite/cancel?type="+obj_type+"&id="+obi_id+"&user=${g_user.id}",function(html){
    	$('#favor_trigger').removeClass('soft_collected');
		$('#favor_trigger').attr('title','添加到收藏');
    	$('#p_favor_count').html('+'+html);
		$('#favor_trigger').unbind('click');
		$('#favor_trigger').click(function(){add_to_favor(1815,5);});
	});
}
function add_to_favor(obj_id, obj_type){
	if(confirm('必须登录后才能收藏，是否现在登录？')){
		location.href="http://www.oschina.net/home/login?goto_page="+encodeURIComponent(location.href);
	}
}
function close_favor(elem_id){
    $('#favor_trigger').poshytip('destroy');
}
function setTag(tv){
	var t = $("._favor_input");
	var value = t.val();
	var tags = value.replace(/，/ig,',').split(',');
	var exist = false;
	value = $.map(tags,function(v,i){
		if($.trim(tv) == $.trim(v)){
			exist = true;
			return undefined;
		}
		return v;
	}).join(',');
	if(exist){
		t.val(value);
		return;
	}
	if(value!="")
		t.val(value+","+tv);
	else
		t.val(tv)
}
</script>
<div id='toolbar_wrapper'>
	<div class='toolbar'>
	<div class="tool_title"><b>分享到&nbsp;</b></div>
	<div class='share'><a class="share_sina" title="分享到新浪微博" href="javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f='http://v.t.sina.com.cn/share/share.php?appkey=858381728',u=z||d.location,p=['&url=',e(u),'&title=',e(t||d.title),'&source=',e(r),'&sourceUrl=',e(l),'&content=',c||'gb2312','&pic=',e(p||'')].join('');function%20a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=440,height=430,left=',(s.width-440)/2,',top=',(s.height-430)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,'','','','Python threading模块: ','','utf-8'));">新浪微博</a><a class="share_qq" title="分享到腾讯微博" href="javascript:(function(){window.open('http://v.t.qq.com/share/share.php?url='+encodeURIComponent(document.location)+'&amp;appkey=96f54f97c4de46e393c4835a266207f4&amp;site=&amp;title='+encodeURIComponent(document.title)+encodeURIComponent(': '),'', 'width=450, height=400, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no');}())">腾讯微博</a></div>
	<div class='options'>
				<div class='favorite'>
		<a title="收藏此代码" id="favor_trigger" class="soft_collect " href="javascript:;">收藏</a>		<span class="soft_collect_count" id="p_favor_count">+0</span>
		</div>
						<div class='vote' id='Vote'>
									<a id="vote_down" class="vote-down-off" href="javascript:;" title="踩：这代码不知道在说什么，或者没什么用">踩</a>
							<a id="vote_up" class="vote-up-off" href="javascript:;" title="顶：这代码很有用或者很清晰明了">顶</a>
					<span class="vote-count-post">0</span>
		</div>
			</div>
	</div>
</div>		
		<div class='Content'>
			<div class='detail'>
								python是支持多线程的，并且是native的线程。主要是通过thread和threading这两个模块来实现的。thread是比较底层的模 块，threading是对thread做了一些包装的，可以更加方便的被使用。这里需要提一下的是python对线程的支持还不够完善，不能利用多 CPU，但是下个版本的python中已经考虑改进这点，让我们拭目以待吧。<br /> &nbsp;&nbsp;&nbsp; threading模块里面主要是对一些线程的操作对象化了，创建了叫Thread的class。一般来说，使用线程有两种模式，一种是创建线程要执行的 函数，把这个函数传递进Thread对象里，让它来执行；另一种是直接从Thread继承，创建一个新的class，把线程执行的代码放到这个新的 class里。我们来看看这两种做法吧。<div class='clear'></div></div>				
    		<div class='Tags'>
    			<strong>标签：</strong>	
    											<a href='http://www.oschina.net/code/tag/python' class='tag project image' data-id='968' title='面向对象编程语言 Python'>Python</a> 								    		</div>
    				</div>
    	<div class='clear'></div>
		<style>
			.CodeEntity .code_pieces ul.piece_anchor{width:25px;position:absolute;top:25px;left:-30px;z-index:1000;}
			.CodeEntity .code_pieces ul.piece_anchor li{width:25px;background: #efe;margin-bottom:2px;}
			.CodeEntity .code_pieces ul.piece_anchor li{border-left:3px #40AA63 solid;border-right:3px #efe solid;}
						.CodeEntity .code_pieces ul.piece_anchor li:hover{border-right:3px #40AA63 solid;border-left:3px #efe solid;}
			.CodeEntity .code_pieces ul.piece_anchor li a{color: #333;padding: 3px 10px;}
			.CodeEntity .code_pieces .jump_to_code{visibility:hidden;position:relative;}
			.CodeEntity .code_pieces .code_piece:hover .jump_to_code{visibility:visible;}
			.CodeEntity .code_pieces .code_piece:hover .jump_to_code a{text-decoration:none;}
			.CodeEntity .code_pieces h2 i{float:right;font-style:normal;font-weight:normal;}
			.CodeEntity .code_pieces h2 i a{font-size:9pt;background: #FFFFFF;color:#00A;padding: 2px 5px;text-decoration:none;}
		</style>
        <div class="CodeEntity">
        	<div class='code_pieces code_module'>
				<!--<ul class="piece_anchor">-->
									<!--<li><a href="#${cp.id}" style="text-decoration:none;">$velocityCount</a></li>-->
								<!--</ul>-->
        		<h2>
					<a>代码片段<em>(2)</em></a>
					<i><a href="/code/piece_full?code=1815" target="_blank">[全屏查看所有代码]</a></i>
				</h2>
            	            	<div class='code_piece'>	
            	            	<h3><i>1.&nbsp;</i><i>[代码]</i>[Python]代码&nbsp;&nbsp;&nbsp;&nbsp;
					<i class="jump_to_code">
						<span>
							<a>跳至</a>
																                    					<a href="#2686">[1]</a>
									    															                    					<a href="#2687">[2]</a>
									    												</span>
						<a href="/code/piece_full?code=1815&piece=2686#2686" name="2686" target="_blank">[全屏预览]</a>
					</i>
				</h3>
            	<pre class="brush: python; auto-links: false; ">#-*- encoding: gb2312 -*-
import string, threading, time

def thread_main(a):
    global count, mutex
    # 获得线程名
    threadname = threading.currentThread().getName()
    
    for x in xrange(0, int(a)):
        # 取得锁
        mutex.acquire()
        count = count + 1
        # 释放锁
        mutex.release()
        print threadname, x, count
        time.sleep(1)
    
def main(num):
    global count, mutex
    threads = []
    
    count = 1
    # 创建一个锁
    mutex = threading.Lock()
    # 先创建线程对象
    for x in xrange(0, num):
        threads.append(threading.Thread(target=thread_main, args=(10,)))
    # 启动所有线程
    for t in threads:
        t.start()
    # 主线程中等待所有子线程退出
    for t in threads:
        t.join()  
    
    
if __name__ == '__main__':
    num = 4
    # 创建4个线程
    main(4)
</pre>
        		            	</div>
            	            	<div class='code_piece'>	
            	            	<h3><i>2.&nbsp;</i><i>[代码]</i>[Python]代码&nbsp;&nbsp;&nbsp;&nbsp;
					<i class="jump_to_code">
						<span>
							<a>跳至</a>
																                    					<a href="#2686">[1]</a>
									    															                    					<a href="#2687">[2]</a>
									    												</span>
						<a href="/code/piece_full?code=1815&piece=2687#2687" name="2687" target="_blank">[全屏预览]</a>
					</i>
				</h3>
            	<pre class="brush: python; auto-links: false; ">#-*- encoding: gb2312 -*-
import threading
import time

class Test(threading.Thread):
    def __init__(self, num):
        threading.Thread.__init__(self)
        self._run_num = num
    
    def run(self):
        global count, mutex
        threadname = threading.currentThread().getName()
    
        for x in xrange(0, int(self._run_num)):
            mutex.acquire()
            count = count + 1
            mutex.release()
            print threadname, x, count
            time.sleep(1)

if __name__ == '__main__':
    global count, mutex
    threads = []
    num = 4
    count = 1
    # 创建锁
    mutex = threading.Lock()
    # 创建线程对象
    for x in xrange(0, num):
        threads.append(Test(10))
    # 启动线程
    for t in threads:
        t.start()
    # 等待子线程结束
    for t in threads:
        t.join()  
</pre>
        		            	</div>
            	        	</div>
			<style type='text/css'>
				.code_report{float:right}
				.code_report div{ float: left; margin-left: 5px; background: url("/img/ask-icon.gif") no-repeat; padding: 6px 0 6px 15px; padding-left: 15px; height: 16px;}
				.code_report a{ background: url("/img/ask-icon.gif") 0 -160px no-repeat;padding-left: 20px; line-height: 15px;height: 16px; color: #333; text-decoration: none; display:inline-block; zoom:1; vertical-align: middle;}
				.code_report em{ height: 28px; line-height:28px; width: 14px; display: inline-block; float: left; background: url("/img/ask-icon.gif") top right;}
            </style>
			<div class="code_report"><div><a href="javascript:report('http://www.oschina.net/code/snippet_16840_1815',1815,5)">举报</a></div><em></em></div>
			<br>
			<br>
			<p style='margin:10px 0 0 0;font-weight:bold;color:#A00;text-decoration:none;'>开源中国-程序员在线工具：<a href="http://git.oschina.net/" target="_blank">Git代码托管</a> <a href="http://tool.oschina.net/apidocs" style="text-decoration:none;">API文档大全(120+)</a> <a href="http://runjs.cn" style="text-decoration:none;" target='_blank'>JS在线编辑演示</a> <a href="http://tool.oschina.net/qr" style="text-decoration:none;" target='_blank'>二维码</a>  <a href="http://tool.oschina.net" style="text-decoration:none;" target='_blank'>更多&raquo;</a></p>
			
        <div class='google_ads' style='margin:10px 0 20px 5px;'>
            <script type="text/javascript" src="/js/ad/tag.js?date=20140304"></script>
        </div>
		
        	        	        	<div id='related_codes' class='CodeList code_module'>
        		<h2><a>相关的代码<em>(387)</em></a></h2>
                <ul>
                                                                	<li>
                		<span class='stat'>89回/23723阅</span>
                		                		        					<span class='lang1'>[Python]</span>
                		                		<span class='title'>
                			<a href="http://www.oschina.net/code/snippet_153044_10826" target="_blank" title="监控媳妇，还没做开机启动，而且弱智的很，大家给指点一下。。。">监控媳妇，还没做开机启动，而且弱智的很，大家给指点一下。。。</a>
                			<span class='date'>2年前 By talentwang</span>
                		</span>
        				<!--<div class='clear'></div>-->
                	</li>
                                                                	<li>
                		<span class='stat'>8回/21088阅</span>
                		                		        					<span class='lang1'>[Python]</span>
                		                		<span class='title'>
                			<a href="http://www.oschina.net/code/snippet_16840_1811" target="_blank" title="Python MySQLdb模块">Python MySQLdb模块</a>
                			<span class='date'>3年前 By Sephiroth</span>
                		</span>
        				<!--<div class='clear'></div>-->
                	</li>
                                                                	<li>
                		<span class='stat'>26回/13607阅</span>
                		                		        					<span class='lang1'>[Python]</span>
                		                		<span class='title'>
                			<a href="http://www.oschina.net/code/snippet_181505_6282" target="_blank" title="python3.2模拟登录webqq">python3.2模拟登录webqq</a>
                			<span class='date'>2年前 By 丁杨帆</span>
                		</span>
        				<!--<div class='clear'></div>-->
                	</li>
                                                                	<li>
                		<span class='stat'>103回/11038阅</span>
                		                		        					<span class='lang1'>[Python]</span>
                		                		<span class='title'>
                			<a href="http://www.oschina.net/code/snippet_95706_2188" target="_blank" title="编程必会之Hello World">编程必会之Hello World</a>
                			<span class='date'>3年前 By WangWyatt</span>
                		</span>
        				<!--<div class='clear'></div>-->
                	</li>
                                                                	<li>
                		<span class='stat'>31回/10864阅</span>
                		                		        					<span class='lang1'>[Python]</span>
                		                		<span class='title'>
                			<a href="http://www.oschina.net/code/snippet_148170_10661" target="_blank" title="Python登录人人网并抓取新鲜事">Python登录人人网并抓取新鲜事</a>
                			<span class='date'>2年前 By 断鸿</span>
                		</span>
        				<!--<div class='clear'></div>-->
                	</li>
                                                                	<li>
                		<span class='stat'>20回/9520阅</span>
                		                		        					<span class='lang1'>[Python]</span>
                		                		<span class='title'>
                			<a href="http://www.oschina.net/code/snippet_12_325" target="_blank" title="Python 随机生成中文验证码">Python 随机生成中文验证码</a>
                			<span class='date'>3年前 By 红薯</span>
                		</span>
        				<!--<div class='clear'></div>-->
                	</li>
                                                                	<li>
                		<span class='stat'>37回/9380阅</span>
                		                		        					<span class='lang1'>[Python]</span>
                		                		<span class='title'>
                			<a href="http://www.oschina.net/code/snippet_1026590_21922" target="_blank" title="程序猿没有女朋友怎么办,New一个呗!【property练习】">程序猿没有女朋友怎么办,New一个呗!【property练习】</a>
                			<span class='date'>1年前 By InBi</span>
                		</span>
        				<!--<div class='clear'></div>-->
                	</li>
                                                                	<li>
                		<span class='stat'>7回/8891阅</span>
                		                		        					<span class='lang1'>[Python]</span>
                		                		<span class='title'>
                			<a href="http://www.oschina.net/code/snippet_126099_3921" target="_blank" title="使用python进行简单的文本处理">使用python进行简单的文本处理</a>
                			<span class='date'>3年前 By speedmancs</span>
                		</span>
        				<!--<div class='clear'></div>-->
                	</li>
                                                                	<li>
                		<span class='stat'>51回/8509阅</span>
                		                		        					<span class='lang1'>[Python]</span>
                		                		<span class='title'>
                			<a href="http://www.oschina.net/code/snippet_103482_14705" target="_blank" title="元芳,你怎么看">元芳,你怎么看</a>
                			<span class='date'>1年前 By expl0rer</span>
                		</span>
        				<!--<div class='clear'></div>-->
                	</li>
                                                                	<li>
                		<span class='stat'>14回/8575阅</span>
                		                		        					<span class='lang1'>[Python]</span>
                		                		<span class='title'>
                			<a href="http://www.oschina.net/code/snippet_16840_1568" target="_blank" title="Python 常用代码片段">Python 常用代码片段</a>
                			<span class='date'>3年前 By Sephiroth</span>
                		</span>
        				<!--<div class='clear'></div>-->
                	</li>
                                                </ul>
        		<a href="/code/list_releted_codes?id=1815">显示所有&nbsp;&raquo;</a>        	</div>
						        	<div class='code_comments code_module'>
        		<h2>
        			<span class='right'>
        			<a href="#commentform">发表评论</a>
        			<a href="#">回到顶部</a>
        			</span>
        			<a name="comments">网友评论<em>(1)</em></a>
        		</h2>
        		<div class='Comments'>
        		            	<ul>
        		            	            	<li id="cmt_86520_22568745" class='row_1'>
		<table width='100%'><tr>
	<td class='portrait'>
		<a href="http://my.oschina.net/evan886" name="rpl_22568745"><img src="http://static.oschina.net/uploads/user/43/86520_50.png?t=1380418109000" align="absmiddle"/></a>
	</td>
	<td class='body'>
		<div class='r_title'>
			1楼：<b>evan886</b> 发表于 2014-06-20 10:18 			<span class='opts'>
												<a href="javascript:ReplyInline(86520,22568745)">回复此评论</a>
							</span>
		</div>
		<div class='r_content TextContent'>楼主，“ 
<span style="font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">Thread是threading模块中最重要的类之一</span>”不是这样说才对么</div>
		<div id='inline_reply_of_86520_22568745' class='inline_reply'></div>
    </td></tr></table>
</li>            	            	</ul>
        			        		</div>
        	</div>
        	<div class='CommentForm' style='margin:0;'>
        		<form id="form_code_comment" action="/action/code/comment" method="POST">
					<input type='hidden' name='code' value='1815'/>
					<input type='hidden' name='user' value='${g_user.id}'/>
        			<table><a name="commentform"></a>
        				
        				<tr>
        					<td><textarea id="ta_code_comment" name='content' style='width:600px;height:150px;visibility:hidden;'></textarea></td>
        				</tr>
        				<tr class='buttons'>
        					<td>
        						<input type='submit' value='发表评论' class='BUTTON SUBMIT rndbutton'/>
        						<span id="comment_submit_msg" class="code_error_msg"></span>
        					</td>		
        				</tr>
        				<tr><td></td></tr>
        			</table>
        		</form>
        		<a href="#" class="more">回到顶部</a>&nbsp;&nbsp;
        		<a href="#comments" class="more">回到评论列表</a>
        	</div>
        </div>
	</div>
    <div class="QuestionRelations">
		
		<div id='QuestionWizard'>
			开源从代码分享开始
			<a href='/code/step1' class='rndbutton'><span>分享代码</span></a>
			<div class='clear'></div>
		</div>		
		<div style='text-align:center;'>
			<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <!-- news-side -->
            <ins class="adsbygoogle"
                 style="display:inline-block;width:300px;height:250px"
                 data-ad-client="ca-pub-1307862221338762"
                 data-ad-slot="5950287625"></ins>
            <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
					</div>
		
				<div id='OtherQuestionsOfUser' class='Qlist'>
			<strong><em>Sephiroth</em>的其他代码</strong>
			<ul>
						<li><a href="http://www.oschina.net/code/snippet_16840_2608" title="Python 收取Gmail新邮件并发送到gtalk">Python 收取Gmail新邮件并发送到gtalk</a><span class='date'>(1评/1774阅,3年前)</span></li>						<li><a href="http://www.oschina.net/code/snippet_16840_2606" title="Python telnet服务器 ">Python telnet服务器 </a><span class='date'>(1评/2339阅,3年前)</span></li>						<li><a href="http://www.oschina.net/code/snippet_16840_2605" title="Python 验证码识别 ">Python 验证码识别 </a><span class='date'>(2评/6029阅,3年前)</span></li>						<li><a href="http://www.oschina.net/code/snippet_16840_2604" title="Python 大文件排序">Python 大文件排序</a><span class='date'>(3评/2088阅,3年前)</span></li>						<li><a href="http://www.oschina.net/code/snippet_16840_2450" title="Python 公司订餐系统的审核脚本">Python 公司订餐系统的审核脚本</a><span class='date'>(1评/2174阅,3年前)</span></li>						</ul>
			<a href="/code/list_by_user?id=16840" class="more">全部(114)...</a>
		</div>
		<div style='text-align:center;margin-bottom:20px;'>
			<script type="text/javascript" src="/js/ad/code.js"></script>
		</div>		
    </div>
	<div class='clear'></div>   
</div>
<div id='inline_reply_editor' style='display:none;'>
<div class="CommentForm" style="padding-left:0px;">
	<form id="form_inline_comment" action="/action/code/comment?code=1815&user=${g_user.id}" method="POST">
	  <input type='hidden' id='inline_reply_id' name='reply_id' value=''/>
		<table>
						<tr height='40'>
				<td>
					邮箱或帐号：<input type='text' name='email' class='TEXT' size='20'/>
					登录密码：<input type='password' name='pwd' class='TEXT' size='10'/>
					还没帐号呢，<a href='/home/reg' target='_blank'>现在注册一个？</a>
				</td>
			</tr>
						<tr>
				<td><textarea name='content' style='width:500px;height:80px;'></textarea></td>
			</tr>
			<tr class='buttons'>
				<td>
					<input type='submit' value='发表评论' class='BUTTON SUBMIT'/>
					<input type="button" value="关闭" class="SUBMIT" id='btn_close_inline_reply'/>
				</td>		
			</tr>
			<tr><td></td></tr>
		</table>
	</form>
</div>
</div>
<!--[if lt IE 7]>
<script type="text/javascript" src="/js/minmax.js"></script>
<![endif]-->
<script type="text/javascript" src="/action/visit/code?id=1815" defer="defer"></script>
<script charset="utf-8" src="/js/ke/kindeditor-min.js?v=4.1.4"></script>

<script type="text/javascript" src="/js/sh309/scripts/xregexp-min.js"></script>
<script type="text/javascript" src="/js/sh309/scripts/shCore.min.js"></script>
<script type="text/javascript" src="/js/sh309/scripts/shAutoloader.js"></script>
<link type="text/css" rel="stylesheet" href="/js/sh309/styles/shCore.css"/>
<link type="text/css" rel="Stylesheet" href="/js/sh309/styles/shThemeDefault.css" />

<script type="text/javascript">
SyntaxHighlighter.autoloader(
	'applescript			/js/sh309/scripts/shBrushAppleScript.js',
	'actionscript3 as3		/js/sh309/scripts/shBrushAS3.js',
	'bash shell				/js/sh309/scripts/shBrushBash.js',
	'coldfusion cf			/js/sh309/scripts/shBrushColdFusion.js',
	'cpp c					/js/sh309/scripts/shBrushCpp.js',
	'obj-c objc				/js/sh309/scripts/shBrushObjC.js',
	'c# c-sharp csharp		/js/sh309/scripts/shBrushCSharp.js',
	'css					/js/sh309/scripts/shBrushCss.js',
	'delphi pascal			/js/sh309/scripts/shBrushDelphi.js',
	'diff patch pas			/js/sh309/scripts/shBrushDiff.js',
	'erl erlang				/js/sh309/scripts/shBrushErlang.js',
	'groovy					/js/sh309/scripts/shBrushGroovy.js',
	'haxe hx				/js/sh309/scripts/shBrushHaxe.js',
	'java					/js/sh309/scripts/shBrushJava.js',
	'jfx javafx				/js/sh309/scripts/shBrushJavaFX.js',
	'js jscript javascript	/js/sh309/scripts/shBrushJScript.js',
	'perl pl				/js/sh309/scripts/shBrushPerl.js',
	'php					/js/sh309/scripts/shBrushPhp.js',
	'text plain				/js/sh309/scripts/shBrushPlain.js',
	'py python				/js/sh309/scripts/shBrushPython.js',
	'ruby rails ror rb		/js/sh309/scripts/shBrushRuby.js',
	'scala					/js/sh309/scripts/shBrushScala.js',
	'sql					/js/sh309/scripts/shBrushSql.js',
	'vb vbnet				/js/sh309/scripts/shBrushVb.js',
	'xml xhtml xslt html	/js/sh309/scripts/shBrushXml.js'
);
SyntaxHighlighter.all();
</script>
<script type='text/javascript'><!--
function pay_attention(pid,concern_it){
	login_and_do(function(msg){
		if(concern_it){
			$("#p_attention_count").load("/action/favorite/add?mailnotify=true&type=5&id="+pid, {user: ''});
			$('#attention_it').html('<a href="javascript:pay_attention('+pid+',false)" style="color:#A00;">取消收藏</a>');	
		}
		else{
			$("#p_attention_count").load("/action/favorite/cancel?type=5&id="+pid, {user: ''});
			$('#attention_it').html('<a href="javascript:pay_attention('+pid+',true)" style="color:#3E62A6;">收藏此代码</a>');
		}
		tb_remove();
	});
}

function close_tip(tid){$('#'+tid).poshytip('destroy');}
function vote_question(qid, vote_up, need_confirm){
	if(need_confirm && !vote_up){
		if($('#Vote #vote_down').hasClass('vote-down-off')){
			var vote_down_confirm_msg = "<p>踩代码将会扣掉你1个积分，是否继续？</p><p style='margin-top:10px;'><a href='javascript:vote_question(1815,false,false)' class='rbtn' style='margin-right:10px;'><span>确定</span></a><a href=\"javascript:close_tip('vote_down')\" class='rbtn'><span>取消</span></a></p>";
			$('#Vote #vote_down').poshytip({
				className: 'tip-yellowsimple',
				content: vote_down_confirm_msg,
				slide: false,
				fade: false,
				showOn: 'none',
				alignTo: 'target',
				alignX: 'inner-right',
				alignY: 'bottom',
				offsetX: -30,
				offsetY: 15
			});
			$('#Vote #vote_down').poshytip('show');
			return;
		}
	}
	if(!need_confirm){
		$('#Vote #vote_down').poshytip('destroy');
	}
	ajax_post("/action/code/vote?user=${g_user.id}&id="+qid+"&vote="+vote_up,"",function(data){
		json = eval('('+data+')');
		if(json.msg){
			var aid = vote_up?"vote_up":"vote_down";
			$('#'+aid).poshytip({
				className: 'tip-yellowsimple',
				content: json.msg,
				showOn: 'none',
				alignTo: 'target',
				alignX: 'inner-right',
				alignY: 'bottom',
				offsetX: 5,
				offsetX: -35
			});
			$('#'+aid).poshytip('show');
			var t = setTimeout(function(){
				clearTimeout(t);
				$('#'+aid).poshytip('destroy');
			},2000);
		}
		else{
			$('#Vote .vote-count-post').html(json.vote);
			if(vote_up){
				$('#Vote #vote_up').toggleClass('vote-up-off');
				$('#Vote #vote_up').toggleClass('vote-up-on');
			}
			else{
				$('#Vote #vote_down').toggleClass('vote-down-off');
				$('#Vote #vote_down').toggleClass('vote-down-on');
			}
		}
	});
}
function delete_c(code,uid,cid){
  if(confirm("您确认要删除此篇评论？")){
    var args = "cmt="+cid+"#"+uid+"#"+code;
    ajax_post("/action/code/delete_comments",args,function(){$("#cmt_"+uid+"_"+cid).fadeOut();});
  }
}
function ReplyInline(user,reply){
	$('.inline_reply').empty();
	var div_id = '#inline_reply_of_'+user+'_'+reply;
	$('#inline_reply_id').val(user+'_'+reply);
	$(div_id).html($('#inline_reply_editor').html());
	$('#txt_focus').focus();
	$('#btn_close_inline_reply').click(function(){
		$(div_id).empty();
	});
	$('#form_inline_comment').ajaxForm({
	dataType: 'json',
	success: function(json) {
    	if(json.msg){
    		alert(json.msg);
    	}
    	else if(json.id){
			location.reload();
    	}
	}
});
}

function edit_code_tags(code_id){
	popup("/code/edit_tags?code="+code_id);
}

var editor;
KindEditor.ready(function(K) {
    editor = K.create('#ta_code_comment', {
		themeType : 'oschina',
		width:'570px',
		resizeType : 2,
		urlType: 'domain',
		shadowMode : false,
		cssPath : '/css/ke-oschina.css',
		allowPreviewEmoticons : false,
		newlineTag : 'br',
		afterCreate : function(){
			K.ctrl(this.edit.iframe.get(0).contentWindow.document, 13, function() {
				$("#ta_code_comment").parent().submit();
			});
		},
		afterChange : function() {
			this.sync();
		},
		items : [
		'fontname', 'fontsize', '|', 'forecolor', 'hilitecolor', 'bold', 'italic', 'underline',
		'removeformat', '|', 'justifyleft', 'justifycenter', 'justifyright', 'insertorderedlist',
		'insertunorderedlist', '|', 'emoticons', 'link','unlink','source','about']
    });
});

$(document).ready(function(){
    $('#form_code_comment').ajaxForm({
		dataType: 'json',
		beforeSerialize: function($form, options) { 
			editor.sync();           
        },
        success: function(json) {
        	if(json.msg){
        		$('#comment_submit_msg').html(json.msg);
    			$('#comment_submit_msg').css('display','inline');
        	}else{
        		jQuery.get("/code/show_reply?_cmt_user="+json.user+"&_cmt_id="+json.id, function(data){
    				$('.Comments .NoData').hide();
        			$('.Comments ul').eq(0).append(data);
					editor.html('');
        		}); 
        	}
        }
    });
	
	
    //问题投票 
    $('#vote_up').click(function(){
    	if(this.clickTimeout){
            // 双击
            clearTimeout(this.clickTimeout);
            this.clickTimeout = null;
    		alert("不用那么费劲啦，点击一下就够了:)");
        }
        else{
            // 单击
            var elem = this;
            this.clickTimeout = setTimeout(function(){
                // 执行点击动作
                elem.clickTimeout = null;
    			vote_question(1815,true, true);
            }, 250);
        }
        //阻止链接onclick时的默认行为
        return false;
    });
    $('#vote_down').click(function(){
    	vote_question(1815,false, true);
        return false;
    });
});
function edit_catalogs(qid){
	popup("/admin/catalog/set-catalogs?parent=1&type=5&id="+qid);
}
//-->
</script>
<div class='clear'></div></div>
	<div id="OSC_Footer" class='CenterDiv'><style>
.oscapp {text-align:left; width:220px;}
.oscapp span {float:left;width:140px;}
.oscapp a {float:left;text-indent:-9999em;width:16px;margin-left:8px;}
.oscapp a.android {background:url('/img/android.gif') no-repeat left center;}
.oscapp a.iphone {background:url('/img/iphone.gif') no-repeat left center;}
.oscapp a.wp7 {background:url('/img/wp7.gif') no-repeat left center;}
</style>
<table width='100%'><tr>
<td align='left'>&copy; 开源中国(OSChina.NET) | <a href="http://www.oschina.net/home/aboutosc">关于我们</a> | <a href="mailto:oschina.net@gmail.com">广告联系</a> | <a href="http://weibo.com/oschina2010" target="_blank">@新浪微博</a> | <a href="http://m.oschina.net/">开源中国手机版</a> | <a href='http://www.miitbeian.gov.cn/' target='_blank' style='color:#737573;text-decoration:none;'>粤ICP备12009483号-3</a></td>
<td class='oscapp'>
	<span>开源中国手机客户端：</span>
	<a href="http://www.oschina.net/app" class='android' title='Android客户端'>Android</a>
	<a href="http://www.oschina.net/app" class='iphone' title='iPhone 客户端'>iPhone</a>
	<a href="http://www.oschina.net/app" class='wp7' title='Windows Phone 客户端'>WP7</a>
</td>
</tr>
<tr>
<td colspan='2' align='left'>开源中国社区(OSChina.net)是工信部 <a href='http://www.copu.org.cn/' target='_blank'>开源软件推进联盟</a> 指定的官方社区</td>
</tr>
</table>
<script type='text/javascript'>
<!--
if (top.location != self.location)top.location=self.location;
//-->
</script></div>
</div>
</body>
</html>
<!-- Generated by OsChina.NET (init:1[ms],page:22[ms],ip:218.19.20.181) -->