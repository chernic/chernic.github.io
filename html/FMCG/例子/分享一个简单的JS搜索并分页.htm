<!DOCTYPE HTML><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>分享一个简单的JS搜索并分页</title>
    
<style id="wiz_custom_css">html, .wiz-editor-body {font-size: 12pt;}.wiz-editor-body {font-family: Helvetica, 'Hiragino Sans GB', '微软雅黑', 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;line-height: 1.7;margin: 0 auto;position:relative;padding: 20px 16px;padding: 1.25rem 1rem;}.wiz-editor-body h1,.wiz-editor-body h2,.wiz-editor-body h3,.wiz-editor-body h4,.wiz-editor-body h5,.wiz-editor-body h6 {margin:20px 0 10px;margin:1.25rem 0 0.625rem;padding: 0;font-weight: bold;}.wiz-editor-body h1 {font-size:20pt;font-size:1.67rem;}.wiz-editor-body h2 {font-size:18pt;font-size:1.5rem;}.wiz-editor-body h3 {font-size:15pt;font-size:1.25rem;}.wiz-editor-body h4 {font-size:14pt;font-size:1.17rem;}.wiz-editor-body h5 {font-size:12pt;font-size:1rem;}.wiz-editor-body h6 {font-size:12pt;font-size:1rem;color: #777777;margin: 1rem 0;}.wiz-editor-body div,.wiz-editor-body p,.wiz-editor-body ul,.wiz-editor-body ol,.wiz-editor-body dl,.wiz-editor-body li {margin:8px 0;}.wiz-editor-body blockquote,.wiz-editor-body table,.wiz-editor-body pre,.wiz-editor-body code {margin:8px 0;}.wiz-editor-body .CodeMirror pre {margin:0;}.wiz-editor-body a {word-wrap: break-word;text-decoration-skip-ink: none;}.wiz-editor-body ul,.wiz-editor-body ol {padding-left:32px;padding-left:2rem;}.wiz-editor-body ol.wiz-list-level1 > li {list-style-type:decimal;}.wiz-editor-body ol.wiz-list-level2 > li {list-style-type:lower-latin;}.wiz-editor-body ol.wiz-list-level3 > li {list-style-type:lower-roman;}.wiz-editor-body li.wiz-list-align-style {list-style-position: inside; margin-left: -1em;}.wiz-editor-body blockquote {padding: 0 12px;}.wiz-editor-body blockquote > :first-child {margin-top:0;}.wiz-editor-body blockquote > :last-child {margin-bottom:0;}.wiz-editor-body img {border:0;max-width:100%;height:auto !important;margin:2px 0;}.wiz-editor-body table {border-collapse:collapse;border:1px solid #bbbbbb;}.wiz-editor-body td,.wiz-editor-body th {padding:4px 8px;border-collapse:collapse;border:1px solid #bbbbbb;min-height:28px;word-break:break-word;box-sizing: border-box;}.wiz-editor-body td > div:first-child {margin-top:0;}.wiz-editor-body td > div:last-child {margin-bottom:0;}.wiz-editor-body img.wiz-svg-image {box-shadow:1px 1px 4px #E8E8E8;}.wiz-hide {display:none !important;}</style></head>

<body class="wiz-editor-body "  data-wiz-document-type="common" spellcheck="false">
<div>
    分享一个简单的JS搜索并分页
</div><div><br></div><div>charrysong 2011-07-27 15:58:54&nbsp; 33&nbsp; 收藏</div><div>文章标签： JavaScript</div><div>版权</div><div>最近因为在写一个JS可以搜索的的分页。所以在这里跟大家分享下! (JS可以搜索并分页)</div><div>转自：[url]http://www.ok22.org/art_detail.aspx?id=197[/url](可直接运行)</div><div>代码如下：</div><div><br></div><div>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</div><div>&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;</div><div>&lt;head&gt;</div><div>&lt;meta http-equiv="Content-Type" content="text/html; charset=gb2312" /&gt;</div><div>&lt;title&gt;无标题文档&lt;/title&gt;</div><div>&lt;style&gt;</div><div>#page a,#page b{margin-right:5px;}</div><div>&lt;/style&gt;</div><div>&lt;script type="text/javascript"&gt;</div><div>var alltxt="2011年考研-上海财经大学金融学（网授）-国庆提高班1,2011年考研-上海财经大学金融学（网授）-国庆提高班2,2011年考研-上海财经大学金融学（网授）-国庆提高班3,2011年考研-上海财经大学金融学（面授）-国庆提高班4,2011年考研-上海财经大学金融学（面授）-一卡通5,2011年考研-上海财经大学dsad金融学（面授）-一卡通6,2011年考研-上海财经大dsadas学金融学（网授）-一卡通7,2011年考研-上海财经大学金融dsadasd学（网授）-一卡通8,2011年考研-上海财经大学金融学（网授）-国庆提高班9,2011年考研-上海财经大学金融学（网授）-国庆提高班10,2011年考研-上海财经大学金融学（网授）-国庆提高班11,2011年考研-上海财经大学金融学（网授）-国庆提高班12";//所有内容用英文豆号（,)分开</div><div>var pcount=3;//每页数量</div><div>var searchtxt=""; //搜索结果</div><div><br></div><div><br></div><div>function searchs() //搜索内容</div><div>{</div><div>&nbsp; &nbsp; searchtxt="";</div><div>&nbsp; &nbsp; txt=document.getElementById("stxt").value;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; //alert(txt);</div><div>&nbsp; &nbsp; var re= new RegExp(txt);</div><div>&nbsp; &nbsp; var alls=alltxt.split(',');</div><div><br></div><div>&nbsp; &nbsp; for(var i=0,len=alls.length;i&lt;len;i++)</div><div>&nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; var pos = alls[i].search(re);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if(pos != -1)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; searchtxt+=alls[i]+",";</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; if(searchtxt=="")</div><div>&nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; searchtxt="没有搜索到相关信息";</div><div>&nbsp; &nbsp; &nbsp; &nbsp; document.getElementById("show").innerHTML=searchtxt;</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; else</div><div>&nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; var sch_all=searchtxt.split(',');</div><div>&nbsp; &nbsp; &nbsp; &nbsp; allpage=getpage();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; var showcont="";</div><div>&nbsp; &nbsp; &nbsp; &nbsp; var pagelist="";</div><div>&nbsp; &nbsp; &nbsp; &nbsp; gopage(1);</div><div>&nbsp; &nbsp; }</div><div><br></div><div>}</div><div>function getpage(){ //获取总页数</div><div>&nbsp; &nbsp; var sch_all=searchtxt.split(',');</div><div>&nbsp; &nbsp; var allcount=(sch_all.length-1)/pcount; //一共有几页</div><div>&nbsp; &nbsp; if(sch_all.length%pcount&gt;1)</div><div>&nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; allcount+=1;</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; return allcount;</div><div>}</div><div>function getlcont(){ //获取最后一个页面的记录数</div><div>&nbsp; &nbsp; var sch_all=searchtxt.split(',');</div><div>&nbsp; &nbsp; var allcount=(sch_all.length-1)%pcount;</div><div>&nbsp; &nbsp; return allcount;</div><div>}</div><div>function gopage(p) //跳转到第几个页面</div><div>{</div><div>&nbsp; &nbsp; var tcount=0;</div><div>&nbsp; &nbsp; var sch_all=searchtxt.split(',');</div><div>&nbsp; &nbsp; allpage=parseInt(getpage());</div><div>&nbsp; &nbsp; var showcont="";</div><div>&nbsp; &nbsp; var pagelist="";</div><div>&nbsp; &nbsp; //alert((p-1)*pcount);</div><div>&nbsp; &nbsp; //alert(sch_all.length-1);</div><div>&nbsp; &nbsp; lcont=getlcont();</div><div>&nbsp; &nbsp; //alert(allpage+"___"+p+"VS"+lcont+"___"+pcount);</div><div>&nbsp; &nbsp; if(allpage==p &amp;&amp;lcont&lt;pcount &amp;&amp; lcont!=0)</div><div>&nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; tcount=pcount*(p-1)+lcont;</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; else if(allpage==p &amp;&amp; lcont==0)</div><div>&nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; tcount=pcount*p;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; //alert(tcount);</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; else</div><div>&nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; tcount=pcount;</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; showcont+="&lt;ul id=\"list\"&gt;";</div><div>&nbsp; &nbsp; if(allpage==p)</div><div>&nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for(var i=(p-1)*pcount;i&lt;tcount;i++)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; showcont+="&lt;li&gt;"+sch_all[i]+"&lt;/li&gt;";</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; else</div><div>&nbsp; &nbsp; {</div><div><br></div><div>&nbsp; &nbsp; &nbsp; &nbsp; for(var i=(p-1)*pcount;i&lt;tcount*p;i++)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; showcont+="&lt;li&gt;"+sch_all[i]+"&lt;/li&gt;";</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; showcont+="&lt;/ul&gt;";</div><div>&nbsp; &nbsp; for(var i=1;i&lt;=allpage;i++)</div><div>&nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if(i==p)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pagelist+="&lt;b&gt;"+i+"&lt;/b&gt;";</div><div>&nbsp; &nbsp; &nbsp; &nbsp; else</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pagelist+="&lt;a href='javascript:gopage("+i+")'&gt;"+i+"&lt;/a&gt;";</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; document.getElementById("show").innerHTML=showcont;</div><div>&nbsp; &nbsp; document.getElementById("page").innerHTML=pagelist;</div><div>}</div><div>&lt;/script&gt;</div><div>&lt;/head&gt;</div><div><br></div><div>&lt;body&gt;</div><div>&lt;div id="show"&gt;&lt;/div&gt;</div><div>&lt;div id="page"&gt;&lt;/div&gt;</div><div>&lt;input type="text" value="" id="stxt" /&gt;</div><div>&lt;input type="button" value="搜索" onclick="searchs()" /&gt;</div><div>&lt;script&gt;searchs();&lt;/script&gt;</div><div>&lt;/body&gt;</div><div>&lt;/html&gt;</div><div>————————————————</div><div>版权声明：本文为CSDN博主「charrysong」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。</div><div>原文链接：https://blog.csdn.net/charrysong/java/article/details/83977133</div>


</body></html>